(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){},171:function(e,t,a){e.exports=a(332)},176:function(e,t,a){},177:function(e,t,a){},235:function(e,t,a){},246:function(e,t,a){},265:function(e,t,a){},282:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(29),l=a.n(r),i=(a(176),a(8)),c=a(9),o=a(11),h=a(10),m=a(12),u=(a(177),a(52)),d=a(83),p=a.n(d);a(230),a(233);p.a.initializeApp({apiKey:"AIzaSyBmnxNh9ZIThI57yOPmUembpvMBqAymPO0",authDomain:"the-watchlist.firebaseapp.com",databaseURL:"https://the-watchlist.firebaseio.com",projectId:"the-watchlist",storageBucket:"the-watchlist.appspot.com",messagingSenderId:"114521226950"});new p.a.auth.GoogleAuthProvider;var g=p.a,v=a(343),b=a(342),f=a(169),E=(a(235),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(h.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logOutUser;return s.a.createElement("div",null,s.a.createElement(v.a,{className:"nav-bg fixed-top",expand:"lg"},s.a.createElement(v.a.Brand,{className:"logo",href:"/"},s.a.createElement(f.a,{className:"film"})," The Watchlist"),s.a.createElement(v.a.Toggle,{bg:"light","aria-controls":"basic-navbar-nav"}),s.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(b.a,{className:"ml-auto"},t&&s.a.createElement(b.a.Link,{href:"/"},"Home"),t&&s.a.createElement(b.a.Link,{href:"/movies"},"Movies"),t&&s.a.createElement(b.a.Link,{href:"/watchlist"},"My Watchlist"),t&&s.a.createElement(b.a.Link,{onClick:function(e){return a(e)}},"Logout"),t&&s.a.createElement(b.a.Link,{href:"/faq"},"FAQ"),!t&&s.a.createElement(b.a.Link,{href:"/"},"Home"),!t&&s.a.createElement(b.a.Link,{href:"/login"},"Login"),!t&&s.a.createElement(b.a.Link,{href:"/register"},"Register"),!t&&s.a.createElement(b.a.Link,{href:"/faq"},"FAQ")))))}}]),t}(n.Component)),w=a(333),O=a(334),j=a(161),y=a(335),N=(a(246),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.user;return s.a.createElement("div",{className:"home"},s.a.createElement(w.a,{className:"text-center"},s.a.createElement(O.a,{className:"justify-content-center"},s.a.createElement(j.a,{col:10,md:10,lg:10,xl:7,className:"mt-4"},s.a.createElement("h1",null,"The Watchlist"),s.a.createElement("p",{className:"lead"},"Remember that new movie your friend told you to watch? Probably not. Never forget to watch a movie again, with The Watchlist."),!e&&s.a.createElement(y.a,{className:"cta-btn",href:"/login"},"Get Started"),e&&s.a.createElement(y.a,{href:"/movies",className:"cta-btn"},"Browse Movies")))))}}]),t}(n.Component)),k=a(162),C=a.n(k),S=a(340),M=a(341),x=(a(265),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={id:e.id,title:e.title,overview:e.overview,poster:e.poster,rating:e.rating,release:e.release,show:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"addMovie",value:function(){var e=g.database().ref("watchlist/".concat(this.props.user)),t={id:this.state.id,title:this.state.title,poster:this.state.poster,overview:this.state.overview,rating:this.state.rating,release:this.state.release};this.setState({show:!0}),e.push(t)}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"render",value:function(){return s.a.createElement(w.a,null,s.a.createElement(S.a,{show:this.state.show,onHide:this.handleClose.bind(this)},s.a.createElement(S.a.Header,{closeButton:!0},s.a.createElement(S.a.Title,null,this.state.title)),s.a.createElement(S.a.Body,null,s.a.createElement("p",null,"Woohoo, ",this.state.title," has been added to your watchlist!"),s.a.createElement("p",null,"It'll hit the theatres on ",this.state.release,".")),s.a.createElement(S.a.Footer,null,s.a.createElement(y.a,{className:"cta-btn",onClick:this.handleClose.bind(this)},"Close"))),s.a.createElement(O.a,{className:"movie-card"},s.a.createElement(j.a,{lg:3,sm:12,className:"text-center"},s.a.createElement("img",{className:"img-fluid",src:this.state.poster,alt:this.state.title})),s.a.createElement(j.a,{lg:9,sm:12},s.a.createElement("h1",null,this.state.title),s.a.createElement("p",null,this.state.overview),s.a.createElement("p",null,"Release: ",this.state.release),s.a.createElement("h4",null,"Rating: ",s.a.createElement("span",{className:"rating"},this.state.rating)),s.a.createElement(M.a,null,s.a.createElement(y.a,{className:"cta-btn add-btn",onClick:this.addMovie.bind(this)},"Add to Watchlist")))))}}]),t}(n.Component)),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={movies:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fetchMovies",value:function(){var e=this;C.a.get(this.props.url).then(function(t){console.log(t);var a=t.data.results;e.setState({movies:a})})}},{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this;return console.log(this.props.user),s.a.createElement(w.a,null,this.state.movies.map(function(t){return s.a.createElement(x,{key:t.id,id:t.id,title:t.title,overview:t.overview,poster:"http://image.tmdb.org/t/p/w300//".concat(t.poster_path),rating:t.vote_average,release:t.release_date,user:e.props.user})}))}}]),t}(n.Component),A=a(51),D=(a(282),a(336)),L=a(337),W=a(338),B=a(339),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={title:e.title,id:e.id,poster:e.poster,rating:e.rating,overview:e.overview},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"removeItem",value:function(){var e=g.database().ref("watchlist/".concat(this.props.user));e.orderByChild("id").equalTo(this.state.id).once("value").then(function(t){t.forEach(function(t){e.child(t.key).remove()})})}},{key:"render",value:function(){var e="https://the-watchlist.herokuapp.com/";return s.a.createElement(w.a,null,s.a.createElement(O.a,{className:"movie-card"},s.a.createElement(j.a,{lg:3,sm:12,className:"text-center"},s.a.createElement("img",{className:"img-fluid",src:this.state.poster,alt:this.state.title})),s.a.createElement(j.a,{lg:6,sm:12},s.a.createElement("h1",null,this.state.title),s.a.createElement("p",null,this.state.overview),s.a.createElement("h4",null,"Rating: ",s.a.createElement("span",{className:"rating"},this.state.rating)),s.a.createElement(M.a,null,s.a.createElement(y.a,{variant:"danger",className:"remove-btn",onClick:this.removeItem.bind(this)},"Remove"),s.a.createElement("div",{className:"share"},s.a.createElement(D.a,Object(A.a)({className:"twitter",url:e,title:this.state.title+" is in my watchlist! What's in yours?"},"className","inline"),s.a.createElement(L.a,{className:"twitter-icon",size:28,round:!0})),s.a.createElement(W.a,{url:e,quote:this.state.title+" is in my watchlist! what's in yours?",className:"inline"},s.a.createElement(B.a,{size:28,round:!0})))))))}}]),t}(n.Component),U=(a(329),function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(o.a)(this,Object(h.a)(t).call(this,e)),console.log(a.props),a.state={watchlist:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.user),g.database().ref("watchlist/".concat(this.props.user)).on("value",function(t){var a=t.val();console.log(a);var n=[];for(var s in a)n.push({id:a[s].id,title:a[s].title,overview:a[s].overview,rating:a[s].rating,poster:a[s].poster});e.setState({watchlist:n})})}},{key:"render",value:function(){var e=this;return s.a.createElement(w.a,null,s.a.createElement(O.a,null,s.a.createElement(j.a,{lg:12},s.a.createElement("div",{className:"no-movie"},0===this.state.watchlist.length&&s.a.createElement("div",null,s.a.createElement("h1",null,"Uh oh, looks like there are no movies in your watchlist :("),s.a.createElement(y.a,{href:"/movies",className:"cta-btn"},"Browse Movies"))))),this.state.watchlist.map(function(t){return s.a.createElement(T,{className:"watchlist-movie",key:t.id,id:t.id,title:t.title,poster:t.poster,overview:t.overview,rating:t.rating,user:e.props.user})}))}}]),t}(n.Component)),P=a(16),R=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.theMessage;return s.a.createElement(j.a,{className:"alert alert-danger px-3"},e)}}]),t}(n.Component),q=(a(159),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={displayName:"",email:"",passOne:"",passTwo:"",errorMessage:null},a.handleChange=a.handleChange.bind(Object(P.a)(Object(P.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(P.a)(Object(P.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=this,a=e.target.name,n=e.target.value;this.setState(Object(A.a)({},a,n),function(){t.state.passOne!==t.state.passTwo?t.setState({errorMessage:"Passwords do not match."}):t.setState({errorMessage:null})})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={displayName:this.state.displayName,email:this.state.email,password:this.state.passOne};g.auth().createUserWithEmailAndPassword(a.email,a.password).then(function(){t.props.registerUser(a.displayName),console.log(a.displayName+" has created an account!")}).catch(function(e){null!==e.message?t.setState({errorMessage:e.message}):t.setState({errorMessage:null})})}},{key:"render",value:function(){return s.a.createElement(w.a,{className:"justify-content-center register-container"},s.a.createElement(O.a,null,s.a.createElement(j.a,{className:"mx-auto",sm:12,lg:8},s.a.createElement(M.a,{className:"form",onSubmit:this.handleSubmit},s.a.createElement("h1",{className:"register-title"},"Register"),null!==this.state.errorMessage?s.a.createElement(R,{theMessage:this.state.errorMessage}):null,s.a.createElement(M.a.Group,null,s.a.createElement(M.a.Control,{type:"email",name:"email",placeholder:"Enter email",value:this.state.email,onChange:this.handleChange})),s.a.createElement(M.a.Group,null,s.a.createElement(M.a.Control,{type:"password",name:"passOne",placeholder:"Password",value:this.state.passOne,onChange:this.handleChange})),s.a.createElement(M.a.Group,null,s.a.createElement(M.a.Control,{type:"password",name:"passTwo",placeholder:"Confirm Password",value:this.state.passTwo,onChange:this.handleChange})),s.a.createElement(y.a,{className:"cta-btn",type:"submit"},"Register")))))}}]),t}(n.Component)),G=(a(330),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).state={email:"",password:"",errorMessage:null},a.handleChange=a.handleChange.bind(Object(P.a)(Object(P.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(P.a)(Object(P.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(A.a)({},t,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};g.auth().signInWithEmailAndPassword(a.email,a.password).then(function(){console.log(a.email+" has logged in!"),Object(u.b)("/movies")}).catch(function(e){null!==e.message?t.setState({errorMessage:e.message}):t.setState({errorMessage:null})})}},{key:"render",value:function(){return s.a.createElement(w.a,{className:"justify-content-center login-container"},s.a.createElement(O.a,null,s.a.createElement(j.a,{className:"mx-auto",sm:12,lg:8},s.a.createElement(M.a,{className:"form",onSubmit:this.handleSubmit},s.a.createElement("h1",{className:"login-title"},"Login"),null!==this.state.errorMessage?s.a.createElement(R,{theMessage:this.state.errorMessage}):null,s.a.createElement(M.a.Group,null,s.a.createElement(M.a.Control,{type:"text",name:"email",placeholder:"Enter Email",value:this.state.email,onChange:this.handleChange})),s.a.createElement(M.a.Group,null,s.a.createElement(M.a.Control,{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange})),s.a.createElement(y.a,{className:"cta-btn",type:"submit"},"Login"),s.a.createElement("div",{className:"new-user"},s.a.createElement("p",null,"New? Register"," ",s.a.createElement("a",{href:"/register",className:"reg-link"},"here")))))))}}]),t}(n.Component)),_=(a(331),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(w.a,{className:"faq-container"},s.a.createElement(O.a,null,s.a.createElement(j.a,{lg:9,className:"mx-auto"},s.a.createElement("h1",{className:"text-center"},"FAQ"),s.a.createElement("p",{className:"faq-text"},"The Watchlist is a Web App where users can add new and upcoming movies to their list, so they never forget to watch it. The Watchlist is built using"," ",s.a.createElement("a",{href:"https://reactjs.org/",target:"_blank"},"React.js")," ","for the user interface, and"," ",s.a.createElement("a",{href:"https://react-bootstrap.github.io/",target:"_blank"},"React-Bootstrap")," ","for it's responsiveness."," ",s.a.createElement("a",{href:"https://firebase.google.com/",target:"_blank"},"Google Firebase")," ","is used for user authentication, and for its real-time database to store movies. All the movie data is fetched from the"," ",s.a.createElement("a",{href:"https://www.themoviedb.org/",target:"_blank"},"Movie DB API")," ","using ",s.a.createElement("a",{href:"https://www.npmjs.com/package/axios"},"Axios.")))))}}]),t}(n.Component)),F="https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("7b9e2473f094d438dd1ce87d0bcb97af","&language=en-US&page=1"),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(h.a)(t).call(this))).registerUser=function(t){g.auth().onAuthStateChanged(function(a){a.updateProfile({displayName:t}).then(function(){e.setState({user:a,displayName:a.displayName,userID:a.uid}),Object(u.b)("/movies")})})},e.logOutUser=function(t){t.preventDefault(),e.setState({displayName:null,userID:null,user:null}),g.auth().signOut().then(function(){Object(u.b)("/")})},e.state={user:null,userID:null,url:F},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.auth().onAuthStateChanged(function(t){t&&e.setState({user:t,displayName:t.displayName,userID:t.uid})})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(E,{user:this.state.user,logOutUser:this.logOutUser}),s.a.createElement(u.a,null,s.a.createElement(N,{exact:!0,path:"/",user:this.state.user}),s.a.createElement(I,{path:"/movies",user:this.state.userID,url:this.state.url}),this.state.user&&s.a.createElement(U,{path:"/watchlist",user:this.state.userID}),s.a.createElement(q,{path:"/register",registerUser:this.registerUser}),s.a.createElement(G,{path:"/login"}),s.a.createElement(_,{path:"/faq"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[171,1,2]]]);
//# sourceMappingURL=main.0e6fbf6d.chunk.js.map